define(["utils/pages","utils/ajax","utils/xhrHandler","utils/deviceType","defaults"],function(t,s,o,e,i){return{name:"ajaxDevelopment",url:"http://www.ericdecoff.com",selector:"#ourDevelopmentClass",options:{count:0,max:3,ajaxURL:i.ourDevelopment(),selector:"#ourDevelopmentClass"},ajaxInitialize:function(){console.log(this.name+":ajaxInitialize"),this.options.ajaxSuccess=this.success,this.options.ajaxError=this.error,s.initialize(this.selector)},load:function(){console.log(this.name+":load"),this.ajaxInitialize(),console.log(this.name+":load:count:="+this.options.count),console.log(this.results),s.load(this,this.options),this.options.count=this.options.count+1},xhrCheck:function(t,s){return console.log(this.name+":xhrCheck"),console.log("<===== XHR ===>"),console.log(JSON.stringify(t)),o.check(t,s)},processData:function(t){console.log("<===== RAW DATA ===>"),console.log(t);var s=$("#content",$(t));console.log("<===== #content ===>"),console.log(s.html()),$(this.selector).html(s.html()),this.hideData(),this.fixImages(this.selector+" img"),$("#yourSpiritualGifts").append('<h3 class="lead-min">Find your Spiritual Gifts?</h3>Take this<br><a href="http://www.churchgrowth.org/cgi-cg/gifts.cgi?id=501456"><h2>brief survey</h2></a><br>and get a free assessment '),e.setInfo(),$(this.selector).trigger("create"),this.show()},show:function(){console.log(this.name+":show"),t.show("about")},hideData:function(){$(this.selector+' h2:contains("Download")').hide(),$(this.selector+' table[class="contentTable"]').hide(),$(this.selector+" hr").hide()},fixImages:function(t){console.log(this.name+"fixImages(selector)"),$(t).each(function(){$(this).removeAttr("style"),$(this).addClass("img-responsive");var t=$(this).attr("src"),s=new RegExp("(http|https)://","i");s.test(t)===!1&&(t="http://fbcvr.com/"+t,$(this).attr("src",t))})},hideElements:function(t){$(t).each(function(){$(this).hide()})},success:function(t,s,o){console.log("success"),console.log(JSON.stringify(this._this.options)),console.log("selector:="+this._this.options.selector),this._this.xhrCheck(o,this._this.options.selector)===!0&&(console.log("data"),console.log(t),console.log("status:"),console.log(s),this._this.processData(t))},error:function(t){console.log("ajax error handler"),this._this.xhrCheck(t,this._this.options.selector)===!0&&(console.log(JSON.stringify(this._this.options)),this._this.load(this._this.options))},maxCount:function(){alert("handle bad results")}}});